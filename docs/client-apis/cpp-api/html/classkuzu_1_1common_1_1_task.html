<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kuzu: kuzu::common::Task Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="kuzu-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Kuzu
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>kuzu</b></li><li class="navelem"><b>common</b></li><li class="navelem"><a class="el" href="classkuzu_1_1common_1_1_task.html">Task</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classkuzu_1_1common_1_1_task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">kuzu::common::Task Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="task_8h_source.html">task.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for kuzu::common::Task:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classkuzu_1_1common_1_1_task.png" usemap="#kuzu::common::Task_map" alt=""/>
  <map id="kuzu::common::Task_map" name="kuzu::common::Task_map">
<area href="classkuzu_1_1processor_1_1_processor_task.html" alt="kuzu::processor::ProcessorTask" shape="rect" coords="0,56,261,80"/>
<area href="classkuzu_1_1storage_1_1_copy_task.html" alt="kuzu::storage::CopyTask" shape="rect" coords="271,56,532,80"/>
<area href="classkuzu_1_1storage_1_1_parameterized_copy_task.html" alt="kuzu::storage::ParameterizedCopyTask&lt; F &gt;" shape="rect" coords="271,112,532,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae17e90a26fffc262cea6d83c421d6ca7"><td class="memItemLeft" align="right" valign="top"><a id="ae17e90a26fffc262cea6d83c421d6ca7" name="ae17e90a26fffc262cea6d83c421d6ca7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Task</b> (uint64_t maxNumThreads)</td></tr>
<tr class="separator:ae17e90a26fffc262cea6d83c421d6ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68a19dfaa21d258bdc531f94631b8d9"><td class="memItemLeft" align="right" valign="top"><a id="ad68a19dfaa21d258bdc531f94631b8d9" name="ad68a19dfaa21d258bdc531f94631b8d9"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>run</b> ()=0</td></tr>
<tr class="separator:ad68a19dfaa21d258bdc531f94631b8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e008975d93f1f8eaae1fe898842dfe"><td class="memItemLeft" align="right" valign="top"><a id="a81e008975d93f1f8eaae1fe898842dfe" name="a81e008975d93f1f8eaae1fe898842dfe"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>finalizeIfNecessary</b> ()</td></tr>
<tr class="separator:a81e008975d93f1f8eaae1fe898842dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f742587f439afd68cb0610a00fb9524"><td class="memItemLeft" align="right" valign="top"><a id="a6f742587f439afd68cb0610a00fb9524" name="a6f742587f439afd68cb0610a00fb9524"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>addChildTask</b> (std::unique_ptr&lt; <a class="el" href="classkuzu_1_1common_1_1_task.html">Task</a> &gt; child)</td></tr>
<tr class="separator:a6f742587f439afd68cb0610a00fb9524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc899a5ac8ce4cac1fed4eb2cdd241b"><td class="memItemLeft" align="right" valign="top"><a id="a4dc899a5ac8ce4cac1fed4eb2cdd241b" name="a4dc899a5ac8ce4cac1fed4eb2cdd241b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isCompletedOrHasException</b> ()</td></tr>
<tr class="separator:a4dc899a5ac8ce4cac1fed4eb2cdd241b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b2482515ca07d7c4b533a92b68f8f1"><td class="memItemLeft" align="right" valign="top"><a id="a94b2482515ca07d7c4b533a92b68f8f1" name="a94b2482515ca07d7c4b533a92b68f8f1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isCompleted</b> ()</td></tr>
<tr class="separator:a94b2482515ca07d7c4b533a92b68f8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cae37b23d0c3a6d68e033b943bc15f1"><td class="memItemLeft" align="right" valign="top"><a id="a8cae37b23d0c3a6d68e033b943bc15f1" name="a8cae37b23d0c3a6d68e033b943bc15f1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isCompletedSuccessfully</b> ()</td></tr>
<tr class="separator:a8cae37b23d0c3a6d68e033b943bc15f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d217e5c40acad3a583bdf0ebece7fe7"><td class="memItemLeft" align="right" valign="top"><a id="a8d217e5c40acad3a583bdf0ebece7fe7" name="a8d217e5c40acad3a583bdf0ebece7fe7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isCompletedNoLock</b> () const</td></tr>
<tr class="separator:a8d217e5c40acad3a583bdf0ebece7fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a42e0281446d99eb6958fcbeda09cb9"><td class="memItemLeft" align="right" valign="top"><a id="a7a42e0281446d99eb6958fcbeda09cb9" name="a7a42e0281446d99eb6958fcbeda09cb9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setSingleThreadedTask</b> ()</td></tr>
<tr class="separator:a7a42e0281446d99eb6958fcbeda09cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e5a2638e28c35d49bdf02a5c9073e1"><td class="memItemLeft" align="right" valign="top"><a id="ae5e5a2638e28c35d49bdf02a5c9073e1" name="ae5e5a2638e28c35d49bdf02a5c9073e1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>registerThread</b> ()</td></tr>
<tr class="separator:ae5e5a2638e28c35d49bdf02a5c9073e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5536cb52eb2526746fe8207639891ce8"><td class="memItemLeft" align="right" valign="top"><a id="a5536cb52eb2526746fe8207639891ce8" name="a5536cb52eb2526746fe8207639891ce8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>deRegisterThreadAndFinalizeTaskIfNecessary</b> ()</td></tr>
<tr class="separator:a5536cb52eb2526746fe8207639891ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3676fd2d85257832af83cd0bdbe0fa4"><td class="memItemLeft" align="right" valign="top"><a id="ad3676fd2d85257832af83cd0bdbe0fa4" name="ad3676fd2d85257832af83cd0bdbe0fa4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setException</b> (std::exception_ptr exceptionPtr)</td></tr>
<tr class="separator:ad3676fd2d85257832af83cd0bdbe0fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4bbbb493b99a885bc3495a58e9e00d2"><td class="memItemLeft" align="right" valign="top"><a id="aa4bbbb493b99a885bc3495a58e9e00d2" name="aa4bbbb493b99a885bc3495a58e9e00d2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hasException</b> ()</td></tr>
<tr class="separator:aa4bbbb493b99a885bc3495a58e9e00d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363b9c6769b27400b8d7b1d6c6801ab2"><td class="memItemLeft" align="right" valign="top"><a id="a363b9c6769b27400b8d7b1d6c6801ab2" name="a363b9c6769b27400b8d7b1d6c6801ab2"></a>
std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><b>getExceptionPtr</b> ()</td></tr>
<tr class="separator:a363b9c6769b27400b8d7b1d6c6801ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a35622db50de11d4a3028642dc61bb06d"><td class="memItemLeft" align="right" valign="top"><a id="a35622db50de11d4a3028642dc61bb06d" name="a35622db50de11d4a3028642dc61bb06d"></a>
<a class="el" href="classkuzu_1_1common_1_1_task.html">Task</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>parent</b> = nullptr</td></tr>
<tr class="separator:a35622db50de11d4a3028642dc61bb06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3476ffc0550312504ef49fcde790e3"><td class="memItemLeft" align="right" valign="top"><a id="aea3476ffc0550312504ef49fcde790e3" name="aea3476ffc0550312504ef49fcde790e3"></a>
std::vector&lt; std::shared_ptr&lt; <a class="el" href="classkuzu_1_1common_1_1_task.html">Task</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>children</b></td></tr>
<tr class="separator:aea3476ffc0550312504ef49fcde790e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a66a10d03e0cbaa61ffc05f6932280489"><td class="memItemLeft" align="right" valign="top"><a id="a66a10d03e0cbaa61ffc05f6932280489" name="a66a10d03e0cbaa61ffc05f6932280489"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>mtx</b></td></tr>
<tr class="separator:a66a10d03e0cbaa61ffc05f6932280489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a7e10a5c7d6d92afb7c36b86742024"><td class="memItemLeft" align="right" valign="top"><a id="a83a7e10a5c7d6d92afb7c36b86742024" name="a83a7e10a5c7d6d92afb7c36b86742024"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>maxNumThreads</b></td></tr>
<tr class="separator:a83a7e10a5c7d6d92afb7c36b86742024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9652096ebaf3f7a0f1cf4910b0a3720e"><td class="memItemLeft" align="right" valign="top"><a id="a9652096ebaf3f7a0f1cf4910b0a3720e" name="a9652096ebaf3f7a0f1cf4910b0a3720e"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>numThreadsFinished</b> {0}</td></tr>
<tr class="separator:a9652096ebaf3f7a0f1cf4910b0a3720e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a7a96dc512c5ed2d33084707bee5d3"><td class="memItemLeft" align="right" valign="top"><a id="a80a7a96dc512c5ed2d33084707bee5d3" name="a80a7a96dc512c5ed2d33084707bee5d3"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>numThreadsRegistered</b> {0}</td></tr>
<tr class="separator:a80a7a96dc512c5ed2d33084707bee5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749447460cdef0a02bd1d20ebbd0de23"><td class="memItemLeft" align="right" valign="top"><a id="a749447460cdef0a02bd1d20ebbd0de23" name="a749447460cdef0a02bd1d20ebbd0de23"></a>
std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><b>exceptionsPtr</b> = nullptr</td></tr>
<tr class="separator:a749447460cdef0a02bd1d20ebbd0de23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971435e842a5e30569b00688b99aba9a"><td class="memItemLeft" align="right" valign="top"><a id="a971435e842a5e30569b00688b99aba9a" name="a971435e842a5e30569b00688b99aba9a"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>ID</b></td></tr>
<tr class="separator:a971435e842a5e30569b00688b99aba9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classkuzu_1_1common_1_1_task.html">Task</a> represents a task that can be executed by multiple threads in the <a class="el" href="classkuzu_1_1common_1_1_task_scheduler.html">TaskScheduler</a>. <a class="el" href="classkuzu_1_1common_1_1_task.html">Task</a> is a virtual class. Users of <a class="el" href="classkuzu_1_1common_1_1_task_scheduler.html">TaskScheduler</a> need to extend the <a class="el" href="classkuzu_1_1common_1_1_task.html">Task</a> class and implement at least a virtual run() function. Users can assume that before T.run() is called, a worker thread W has grabbed task T from the <a class="el" href="classkuzu_1_1common_1_1_task_scheduler.html">TaskScheduler</a>'s queue and registered itself to T. They can also assume that after run() is called W will deregister itself from T. When deregistering, if W is the last worker to finish on T, i.e., once W finishes, T will be completed, the finalizeIfNecessary() will be called. So the run() and finalizeIfNecessary() calls are separate calls and if there is some state from the run() function execution that will be needed by finalizeIfNecessary, users should save it somewhere that can be accessed in finalizeIfNecessary(). See ProcessorTask for an example of this. </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>src/include/common/task_system/<a class="el" href="task_8h_source.html">task.h</a></li>
<li>src/common/task_system/task.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
